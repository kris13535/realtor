{"ast":null,"code":"var _jsxFileName = \"/Users/kristina/Desktop/experis/week_9/img_page/src/components/cities_page/cities_page.js\";\nimport React from 'react';\nimport Card from \"../search_page/card\";\n\nclass CitiesPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateGalleryItemss = data => {\n      const filtered = this.state.filtered;\n      console.log(data.search_city);\n\n      if (data.search_country) {\n        console.log(data.search_country);\n        this.setState({\n          filtered: filtered.filter(function (country) {\n            if (country.country.toLowerCase().includes(data.search_country.toLowerCase())) {\n              return filtered;\n            }\n          })\n        });\n      }\n\n      if (data.search_city) {\n        this.setState({\n          filtered: filtered.filter(function (city) {\n            if (city.label.toLowerCase().includes(data.search_city.toLowerCase())) {\n              return filtered;\n            }\n          })\n        });\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const data = {\n        search_country: this.state.search_country,\n        search_city: this.state.search_city,\n        no_filters: this.state.no_filters\n      };\n      this.updateGalleryItemss(data);\n    };\n\n    this.handleChange = e => {\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      this.setState({\n        [name]: value\n      });\n      const data = {\n        [name]: value\n      };\n      this.updateGalleryItemss(data);\n    };\n\n    this.state = {\n      filtered: this.props.cities\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          cities = _this$state.cities,\n          filtered = _this$state.filtered;\n\n    const buildSquareDetails = () => {\n      return filtered.map((item, i) => {\n        return React.createElement(Card, Object.assign({}, item, {\n          cities: filtered,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }));\n      });\n    };\n\n    return React.createElement(\"div\", {\n      style: {\n        overflow: \"hidden\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"titel_of_boxs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"My Cities\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"d-flex\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"search_country\",\n      onChange: this.handleChange,\n      placeholder: \"Search country\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"butt_filter_city\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"search_city\",\n      onChange: this.handleChange,\n      placeholder: \"Search city\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"butt_filter_city\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"d-none d-lg-flex\",\n      id: \"save_search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"no_filters\",\n      value: true,\n      onClick: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"All countries\")))), React.createElement(\"div\", {\n      className: \"row m-0 d-flex justify-content-around\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, buildSquareDetails()));\n  }\n\n}\n\nexport default CitiesPage;","map":{"version":3,"sources":["/Users/kristina/Desktop/experis/week_9/img_page/src/components/cities_page/cities_page.js"],"names":["React","Card","CitiesPage","Component","constructor","props","updateGalleryItemss","data","filtered","state","console","log","search_city","search_country","setState","filter","country","toLowerCase","includes","city","label","handleSubmit","e","preventDefault","no_filters","handleChange","target","name","value","cities","render","buildSquareDetails","map","item","i","overflow"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Card from \"../search_page/card\";\n\n\nclass CitiesPage extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            filtered: this.props.cities,\n        }\n    };\n\n    updateGalleryItemss  = (data) => {\n        const {filtered} = this.state;\n        console.log(data.search_city);\n\n        if (data.search_country) {\n            console.log(data.search_country);\n            this.setState({\n                filtered: filtered.filter(function (country) {\n                    if (country.country.toLowerCase().includes(data.search_country.toLowerCase())) {\n                        return filtered\n                    }\n                })\n            })\n        }\n        if (data.search_city) {\n            this.setState({\n                filtered: filtered.filter(function (city) {\n                    if (city.label.toLowerCase().includes(data.search_city.toLowerCase())) {\n                        return filtered\n                    }\n                })\n            })\n        }\n    };\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const data = {\n            search_country: this.state.search_country,\n            search_city: this.state.search_city,\n            no_filters: this.state.no_filters,\n        };\n\n        this.updateGalleryItemss(data);\n    };\n\n    handleChange = (e) => {\n        const {name, value} = e.target;\n        this.setState({\n            [name] : value,\n        });\n        const data = {\n            [name]:value\n        };\n\n        this.updateGalleryItemss(data)\n\n    };\n\n\n\n    render() {\n\n        const {cities , filtered} = this.state;\n        const buildSquareDetails = () => {\n            return filtered.map((item, i) => {\n                return (\n                    <Card {...item} cities={filtered} key={i}/>\n                )\n            })\n        };\n\n        return(\n            <div style={{overflow:\"hidden\"}}>\n                <h1 className={\"titel_of_boxs\"}>My Cities</h1>\n\n                <div>\n                    <form className=\"d-flex\" onSubmit={this.handleSubmit}>\n                        <input type=\"text\" name=\"search_country\" onChange={this.handleChange}\n                               placeholder=\"Search country\"/>\n                        <button className={\"butt_filter_city\"}><i className=\"fas fa-search\"></i></button>\n\n                        <input type=\"text\" name=\"search_city\" onChange={this.handleChange}\n                               placeholder=\"Search city\"/>\n                        <button className={\"butt_filter_city\"}><i className=\"fas fa-search\"></i></button>\n\n                        <div className=\"d-none d-lg-flex\" id=\"save_search\">\n                            <button name=\"no_filters\" value={true} onClick={this.handleChange}>All countries</button>\n                        </div>\n\n                    </form>\n\n                </div>\n\n                <div className={\"row m-0 d-flex justify-content-around\"}>\n                    {buildSquareDetails()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CitiesPage;\n"]},"metadata":{},"sourceType":"module"}