{"ast":null,"code":"import _defineProperty from\"/Users/kristina/Desktop/experis/week_9/img_page/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/kristina/Desktop/experis/week_9/img_page/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristina/Desktop/experis/week_9/img_page/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/kristina/Desktop/experis/week_9/img_page/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/kristina/Desktop/experis/week_9/img_page/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/kristina/Desktop/experis/week_9/img_page/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Card from\"../search_page/card\";var CitiesPage=/*#__PURE__*/function(_React$Component){_inherits(CitiesPage,_React$Component);function CitiesPage(props){var _this;_classCallCheck(this,CitiesPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(CitiesPage).call(this,props));_this.updateGalleryItemss=function(data){var _this$state=_this.state,filtered=_this$state.filtered,cities=_this$state.cities;console.log(data.search_city);if(data.search_country){console.log(data.search_country);_this.setState({filtered:filtered.filter(function(country){if(country.country.toLowerCase().includes(data.search_country.toLowerCase())){return filtered;}})});}if(data.search_city){_this.setState({filtered:filtered.filter(function(city){if(city.label.toLowerCase().includes(data.search_city.toLowerCase())){return filtered;}})});}if(data.no_filters){_this.setState({filtered:cities});}};_this.handleSubmit=function(e){e.preventDefault();var data={search_country:_this.state.search_country,search_city:_this.state.search_city,no_filters:_this.state.no_filters};_this.updateGalleryItemss(data);};_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));var data=_defineProperty({},name,value);_this.updateGalleryItemss(data);};_this.state={cities:_this.props.cities,filtered:_this.props.cities};return _this;}_createClass(CitiesPage,[{key:\"render\",value:function render(){var filtered=this.state.filtered;var buildSquareDetails=function buildSquareDetails(){return filtered.map(function(item,i){return React.createElement(Card,Object.assign({},item,{cities:filtered,key:i}));});};return React.createElement(\"div\",{style:{overflow:\"hidden\"}},React.createElement(\"h1\",{className:\"titel_of_boxs\"},\"My Cities\"),React.createElement(\"div\",{className:\"d-flex justify-content-center\",style:{padding:\"20px 0 20px 0\"}},React.createElement(\"form\",{className:\"d-flex\",onSubmit:this.handleSubmit},React.createElement(\"input\",{type:\"text\",name:\"search_country\",onChange:this.handleChange,placeholder:\"Search country\"}),React.createElement(\"button\",{className:\"butt_filter_city\"},React.createElement(\"i\",{className:\"fas fa-search\"})),React.createElement(\"input\",{type:\"text\",name:\"search_city\",onChange:this.handleChange,placeholder:\"Search city\"}),React.createElement(\"button\",{className:\"butt_filter_city\"},React.createElement(\"i\",{className:\"fas fa-search\"})),React.createElement(\"div\",{className:\"d-none d-lg-flex\",id:\"save_search\"},React.createElement(\"button\",{name:\"no_filters\",value:true,onClick:this.handleChange},\"All countries\")))),React.createElement(\"div\",{className:\"row m-0 d-flex justify-content-around\"},buildSquareDetails()));}}]);return CitiesPage;}(React.Component);export default CitiesPage;","map":{"version":3,"sources":["/Users/kristina/Desktop/experis/week_9/img_page/src/components/cities_page/cities_page.js"],"names":["React","Card","CitiesPage","props","updateGalleryItemss","data","state","filtered","cities","console","log","search_city","search_country","setState","filter","country","toLowerCase","includes","city","label","no_filters","handleSubmit","e","preventDefault","handleChange","target","name","value","buildSquareDetails","map","item","i","overflow","padding","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Card from \"../search_page/card\";\n\n\nclass CitiesPage extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            cities: this.props.cities,\n            filtered: this.props.cities,\n        }\n    };\n\n    updateGalleryItemss  = (data) => {\n        const {filtered, cities} = this.state;\n        console.log(data.search_city);\n\n        if (data.search_country) {\n            console.log(data.search_country);\n            this.setState({\n                filtered: filtered.filter(function (country) {\n                    if (country.country.toLowerCase().includes(data.search_country.toLowerCase())) {\n                        return filtered\n                    }\n                })\n            })\n        }\n        if (data.search_city) {\n            this.setState({\n                filtered: filtered.filter(function (city) {\n                    if (city.label.toLowerCase().includes(data.search_city.toLowerCase())) {\n                        return filtered\n                    }\n                })\n            })\n        }\n        if (data.no_filters){\n            this.setState({\n                filtered : cities,\n            });\n        }\n    };\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const data = {\n            search_country: this.state.search_country,\n            search_city: this.state.search_city,\n            no_filters: this.state.no_filters,\n        };\n\n        this.updateGalleryItemss(data);\n    };\n\n    handleChange = (e) => {\n        const {name, value} = e.target;\n        this.setState({\n            [name] : value,\n        });\n        const data = {\n            [name]:value\n        };\n        this.updateGalleryItemss(data)\n    };\n\n\n\n    render() {\n\n        const {filtered} = this.state;\n        const buildSquareDetails = () => {\n            return filtered.map((item, i) => {\n                return (\n                    <Card {...item} cities={filtered} key={i}/>\n                )\n            })\n        };\n\n        return(\n            <div style={{overflow:\"hidden\"}}>\n                <h1 className={\"titel_of_boxs\"}>My Cities</h1>\n\n                <div className={\"d-flex justify-content-center\"} style={{ padding :\"20px 0 20px 0\"}}>\n                    <form className=\"d-flex\" onSubmit={this.handleSubmit}>\n                        <input type=\"text\" name=\"search_country\" onChange={this.handleChange}\n                               placeholder=\"Search country\"/>\n                        <button className={\"butt_filter_city\"}><i className=\"fas fa-search\"></i></button>\n\n                        <input type=\"text\" name=\"search_city\" onChange={this.handleChange}\n                               placeholder=\"Search city\"/>\n                        <button className={\"butt_filter_city\"}><i className=\"fas fa-search\"></i></button>\n\n                        <div className=\"d-none d-lg-flex\" id=\"save_search\">\n                            <button name=\"no_filters\" value={true} onClick={this.handleChange}>All countries</button>\n                        </div>\n                    </form>\n                </div>\n\n                <div className={\"row m-0 d-flex justify-content-around\"}>\n                    {buildSquareDetails()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CitiesPage;\n"]},"metadata":{},"sourceType":"module"}