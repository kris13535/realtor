{"ast":null,"code":"var _jsxFileName = \"/Users/kristina/Desktop/experis/week_9/img_page/src/components/cities_page/cities_page.js\";\nimport React from 'react';\nimport Card from \"../search_page/card\";\n\nclass CitiesPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateGalleryItemss = data => {\n      const _this$state = this.state,\n            filtered = _this$state.filtered,\n            cities = _this$state.cities;\n      this.setState({\n        filtered: filtered.filter(function (country) {\n          if (country.country.toLowerCase().includes(data.search.toLowerCase()) || country.label.toLowerCase().includes(data.search.toLowerCase())) {\n            return filtered;\n          }\n        })\n      });\n\n      if (data.no_filters) {\n        this.setState({\n          filtered: cities\n        });\n      }\n    };\n\n    this.handleChange = e => {\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n      let test = this.state.data;\n      test[name] = value;\n      this.setState({\n        data: test\n      });\n      this.updateGalleryItemss(this.state.data);\n    };\n\n    this.state = {\n      cities: this.props.cities,\n      filtered: this.props.cities,\n      data: {}\n    };\n  }\n\n  render() {\n    const filtered = this.state.filtered;\n\n    const buildSquareDetails = () => {\n      return filtered.map((item, i) => {\n        return React.createElement(Card, Object.assign({}, item, {\n          cities: filtered,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }));\n      });\n    };\n\n    return React.createElement(\"div\", {\n      style: {\n        overflow: \"hidden\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      style: {\n        padding: \"20px 0 20px 0\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"search\",\n      onChange: this.handleChange,\n      placeholder: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"butt_filter_city\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"d-none d-lg-flex no_filters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"no_filters\",\n      value: true,\n      onClick: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"All countries\")))), React.createElement(\"div\", {\n      className: \"row m-0 d-flex justify-content-around\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, buildSquareDetails()));\n  }\n\n}\n\nexport default CitiesPage;","map":{"version":3,"sources":["/Users/kristina/Desktop/experis/week_9/img_page/src/components/cities_page/cities_page.js"],"names":["React","Card","CitiesPage","Component","constructor","props","updateGalleryItemss","data","state","filtered","cities","setState","filter","country","toLowerCase","includes","search","label","no_filters","handleChange","e","target","name","value","test","render","buildSquareDetails","map","item","i","overflow","padding"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Card from \"../search_page/card\";\n\n\nclass CitiesPage extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            cities: this.props.cities,\n            filtered: this.props.cities,\n            data : {},\n        }\n    };\n\n    updateGalleryItemss  = (data) => {\n        const {filtered, cities} = this.state;\n\n        this.setState({\n            filtered: filtered.filter(function (country) {\n                if (country.country.toLowerCase().includes(data.search.toLowerCase()) || country.label.toLowerCase().includes(data.search.toLowerCase()))\n                {return filtered}\n            })\n        });\n\n        if (data.no_filters){\n            this.setState({\n                filtered : cities,\n            });\n        }\n    };\n\n    handleChange = (e) => {\n        const {name, value} = e.target;\n        let test = this.state.data;\n        test[name] = value;\n        this.setState({\n            data : test\n        });\n        this.updateGalleryItemss(this.state.data)\n    };\n\n    render() {\n\n        const {filtered} = this.state;\n        const buildSquareDetails = () => {\n            return filtered.map((item, i) => {\n                return (\n                    <Card {...item} cities={filtered} key={i}/>\n                )\n            })\n        };\n\n        return(\n            <div style={{overflow:\"hidden\"}}>\n\n                <div className={\"d-flex justify-content-center\"} style={{ padding :\"20px 0 20px 0\"}}>\n                    <form className=\"d-flex\">\n                        <input type=\"text\" name=\"search\" onChange={this.handleChange}\n                               placeholder=\"Search\"/>\n                        <button className={\"butt_filter_city\"}><i className=\"fas fa-search\"></i></button>\n\n                        <div className={\"d-none d-lg-flex no_filters\"}>\n                            <button name=\"no_filters\" value={true} onClick={this.handleChange}>All countries</button>\n                        </div>\n                    </form>\n                </div>\n\n                <div className={\"row m-0 d-flex justify-content-around\"}>\n                    {buildSquareDetails()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CitiesPage;\n"]},"metadata":{},"sourceType":"module"}