{"ast":null,"code":"var _jsxFileName = \"/Users/kristina/Desktop/experis/week_9/img_page/src/components/gallery_boxs/gallery.jsx\";\nimport React from 'react';\nimport Card from \"./card.jsx\";\nimport Filters from \"./filters\";\nimport { apartments } from \"../app_data/apartments_array\";\nimport { cities } from \"../app_data/cities_array\";\n\nclass Gallery extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateGalleryItems = data => {\n      // let array = [];\n      let array = apartments;\n\n      if (data.city) {\n        apartments.map(function (apartment) {\n          const city = cities.find(city => city.id === apartment.cityId);\n          const city_name = city.label;\n\n          if (city_name.includes(data.city)) {\n            array.push(apartment);\n          }\n        });\n      } else if (data.price_min || data.price_max) {\n        if (data.price_min && typeof data.price_min != \"number\") {\n          let multiplication_price_min = data.price_min.slice(-1);\n\n          if (multiplication_price_min === \"k\") {\n            data.price_min = parseInt(data.price_min.slice(1)) * 1000;\n          } else if (multiplication_price_min === \"M\") {\n            data.price_min = parseInt(data.price_min.slice(1)) * 1000000;\n          }\n        }\n\n        if (data.price_max && typeof data.price_max !== \"number\") {\n          let multiplication_price_max = data.price_max.slice(-1);\n\n          if (multiplication_price_max === \"k\") {\n            data.price_max = parseInt(data.price_max.slice(1)) * 1000;\n          } else if (multiplication_price_max === \"M\") {\n            data.price_max = parseInt(data.price_max.slice(1)) * 1000000;\n          }\n        }\n\n        console.log(data.price_max);\n        console.log(data.price_min); //\n        // for (let index in apartments) {\n        //     const current = apartments[index];\n        //     if (data.price_min <= current.price) {\n        //         if (current.price <= data.price_max) {\n        //             // Min and max are true\n        //             if (data.price_min <= apartments[index].price && apartments[index].price <= data.price_max) {\n        //                 array.push(index);\n        //             }\n        //             else {\n        //                 // Min is true and Max is false\n        //                 if (data.price_min <= apartments[index].price) {\n        //                     array.push(index);\n        //                 }\n        //             }\n        //         }\n        //     } else {\n        //         if (apartments[index].price <= data.price_max) {\n        //             // Max = true, Min = false\n        //             array.push(index);\n        //         }\n        //     }\n        // }\n        //\n        // apartments.map(function(apartment){\n        //     if(data.price_min && data.price_max){\n        //         if ( data.price_min <= apartment.price && apartment.price <= data.price_max){\n        //             array.push(apartment);\n        //         }\n        //     }\n        //\n        //     else if (data.price_min){\n        //         if ( data.price_min <= apartment.price){\n        //             array.push(apartment);\n        //         }\n        //     }\n        //     else if (data.price_max){\n        //         console.log(data.price_max);\n        //         console.log(apartment.price);\n        //         if (apartment.price <= data.price_max){\n        //             array.push(apartment);\n        //         }\n        //     }\n        //\n        // });\n\n        function checkRange(value) {\n          data.price_min = (data.price_min === undefined || data.price_min === \"\") && 0;\n          data.price_min = (data.price_min === undefined || data.price_min === \"\") && Infinity;\n          console.log('min', data.price_min, \"    max \", data.price_max);\n          return value.price >= data.price_min && value.price <= data.price_max;\n        }\n\n        if (data.price_max || data.price_min) {\n          array = array.filter(checkRange);\n        }\n      }\n\n      this.setState({\n        apartments: array\n      });\n    };\n\n    this.state = {\n      apartments: apartments\n    };\n  }\n\n  render() {\n    const apartments = this.state.apartments; // const {items} = this.props;\n\n    const buildSquareDetails = () => {\n      return apartments.map((item, i) => {\n        return React.createElement(Card, Object.assign({}, item, {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }));\n      });\n    };\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Filters, {\n      updateGalleryItems: this.updateGalleryItems,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, buildSquareDetails()));\n  }\n\n}\n\nexport default Gallery;","map":{"version":3,"sources":["/Users/kristina/Desktop/experis/week_9/img_page/src/components/gallery_boxs/gallery.jsx"],"names":["React","Card","Filters","apartments","cities","Gallery","Component","constructor","props","updateGalleryItems","data","array","city","map","apartment","find","id","cityId","city_name","label","includes","push","price_min","price_max","multiplication_price_min","slice","parseInt","multiplication_price_max","console","log","checkRange","value","undefined","Infinity","price","filter","setState","state","render","buildSquareDetails","item","i"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Card from \"./card.jsx\";\nimport Filters from \"./filters\";\nimport {apartments} from \"../app_data/apartments_array\";\nimport {cities} from \"../app_data/cities_array\";\n\nclass Gallery extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            apartments: apartments,\n        }\n    }\n\n    updateGalleryItems = (data) => {\n        // let array = [];\n        let array = apartments;\n        if (data.city) {\n            apartments.map(function (apartment) {\n                const city = cities.find(city => city.id === apartment.cityId);\n                const city_name = city.label;\n                if (city_name.includes(data.city)) {\n                    array.push(apartment);\n                }\n            });\n        } else if (data.price_min || data.price_max) {\n            if (data.price_min && typeof data.price_min != \"number\") {\n                let multiplication_price_min = data.price_min.slice(-1);\n\n                if (multiplication_price_min === \"k\") {\n                    data.price_min = parseInt(data.price_min.slice(1)) * 1000;\n                } else if (multiplication_price_min === \"M\") {\n                    data.price_min = parseInt(data.price_min.slice(1)) * 1000000;\n                }\n            }\n\n\n            if (data.price_max && typeof data.price_max !== \"number\") {\n                let multiplication_price_max = data.price_max.slice(-1);\n\n                if (multiplication_price_max === \"k\") {\n                    data.price_max = parseInt(data.price_max.slice(1)) * 1000;\n                } else if (multiplication_price_max === \"M\") {\n                    data.price_max = parseInt(data.price_max.slice(1)) * 1000000;\n                }\n            }\n\n            console.log(data.price_max);\n            console.log(data.price_min);\n            //\n            // for (let index in apartments) {\n            //     const current = apartments[index];\n            //     if (data.price_min <= current.price) {\n            //         if (current.price <= data.price_max) {\n            //             // Min and max are true\n            //             if (data.price_min <= apartments[index].price && apartments[index].price <= data.price_max) {\n            //                 array.push(index);\n            //             }\n            //             else {\n            //                 // Min is true and Max is false\n            //                 if (data.price_min <= apartments[index].price) {\n            //                     array.push(index);\n            //                 }\n            //             }\n            //         }\n            //     } else {\n            //         if (apartments[index].price <= data.price_max) {\n            //             // Max = true, Min = false\n            //             array.push(index);\n            //         }\n            //     }\n            // }\n            //\n\n        // apartments.map(function(apartment){\n        //     if(data.price_min && data.price_max){\n        //         if ( data.price_min <= apartment.price && apartment.price <= data.price_max){\n        //             array.push(apartment);\n        //         }\n        //     }\n        //\n        //     else if (data.price_min){\n        //         if ( data.price_min <= apartment.price){\n        //             array.push(apartment);\n        //         }\n        //     }\n        //     else if (data.price_max){\n        //         console.log(data.price_max);\n        //         console.log(apartment.price);\n        //         if (apartment.price <= data.price_max){\n        //             array.push(apartment);\n        //         }\n        //     }\n        //\n        // });\n\n            function checkRange(value){\n                data.price_min = (data.price_min === undefined || data.price_min === \"\") && 0;\n                data.price_min = (data.price_min === undefined || data.price_min === \"\") && Infinity;\n                console.log('min',data.price_min , \"    max \", data.price_max)\n                return (value.price >= data.price_min && value.price <= data.price_max);\n            }\n\n            if  (data.price_max || data.price_min){\n                array = array.filter(checkRange)\n            }\n        }\n\n        this.setState({\n            apartments: array,\n        })\n    };\n\n    render() {\n\n        const {apartments} = this.state;\n\n        // const {items} = this.props;\n        const buildSquareDetails = () => {\n            return apartments.map((item, i) => {\n                return (\n                    <Card {...item} key={i}/>\n                )\n            })\n        };\n\n        return (\n            <div>\n                <div>\n                    <Filters updateGalleryItems={this.updateGalleryItems}/>\n                </div>\n\n                <div className={\"row\"}>\n                    {buildSquareDetails()}\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default Gallery;\n"]},"metadata":{},"sourceType":"module"}